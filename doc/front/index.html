<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Front React</title>

    <link href="../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../../javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","ruby","python"]);
        });
      </script>
  </head>

  <body class="doc doc_front doc_front_index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../../images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="front-react-문서">Front React 문서</h1>

<p>고블린클럽 커뮤니티 사이트</p>

<ul>
<li>:3000 : Front Server</li>
<li>:3001 : API Server</li>
<li>:3002 : Image Server</li>
<li>:3003 : Document Server</li>
</ul>

<p>도큐면트 리스트</p>

<ul>
<li><a href="/">Goblinclub 메인</a> </li>
<li><a href="/doc/api">Api Server 문서</a></li>
<li><a href="/doc/front">Front Client(React) 문서</a></li>
<li><a href="/doc/goblin">Front Server 문서</a></li>
</ul>

<h1 id="소개">소개</h1>

<p><strong>/scripts</strong> 내부의 폴더에 대해서 정의 합니다. React와 Alt flux로 구성되어 있고 각 Actions, Stores를 정의하고,
React Component를 정의합니다.</p>

<p>GobblinClub의 뷰는 React로 구성되어있습니다.
각 뷰를 표현하는 데이터는 Flux Architecture 를 기반으로 한 Alt Framework 를 사용합니다
Alt는 Action 들과 Store 들로 구성되어 있습니다</p>

<p>데이터는 Store 에 모두 저장되고, Actions 에서 그 데이터들을 조작합니다.
데이터 조회나, 수정, 삭제, 입력시 Actions 내에서 AJAX 요청을 생성하고 받아온 데이터를 Store 에 저장합니다.</p>

<h2 id="flux-architecture">Flux Architecture</h2>

<p><img alt="flux" src="images/flux-diagram-white-background.png" /></p>

<p><a href="http://facebook.github.io/flux/docs/overview.html#content">Flux</a></p>

<p><a href="http://alt.js.org">Alt</a></p>

<p><a href="http://facebook.github.io/react/docs/getting-started.html">React</a></p>

<h2 id="고블린-클럽의-architecture">고블린 클럽의 Architecture</h2>

<p><img alt="Gobblinclub Architecture" src="images/goblinclub-arch.png" /></p>

<h1 id="resource">Resource</h1>

<h2 id="page-request">Page Request</h2>

<p>서버에서 렌더링 되는 페이지 입니다. 각 Store의 데이터는 페이지 초기 로딩에서 Bootstrap 됩니다. 
따라서 따로 Store 데이터들을 설정할 필요가 없습니다.</p>

<table><thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Usage</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>/</td>
<td>고블린 클럽의 메인 페이지. 베스트 리스트를 나타냅니다</td>
</tr>
<tr>
<td>GET</td>
<td>/submit</td>
<td>글 쓰기 페이지 입니다. 사용자는 여기서 글을 쓰고 클럽을 선택합니다</td>
</tr>
<tr>
<td>GET</td>
<td>/notFound</td>
<td>고블린 클럽의 메인 페이지. 베스트 리스트를 나타냅니다</td>
</tr>
<tr>
<td>GET</td>
<td>/club/:clubName</td>
<td>각 클럽의 리스트 페이지 입니다. 리스트가 가지고 있는 글들을 나타냅니다.</td>
</tr>
<tr>
<td>GET</td>
<td>/club/:clubName/:article</td>
<td>글을 나타내는 페이지 입니다 url 은 클럽이름 속에 종속됩니다.</td>
</tr>
</tbody></table>

<p><strong>미완성 페이지</strong></p>

<ul>
<li>| GET | /login | 고블린 클럽의 메인 페이지. 베스트 리스트를 나타냅니다 |</li>
<li>| GET | /signin | 고블린 클럽의 메인 페이지. 베스트 리스트를 나타냅니다 |</li>
<li>| GET | /club/:clubName/submit | 클럽에 속한 글 쓰기 페이지 입니다. |</li>
<li>| GET | /club/:clubName/search | 클럽에 속한 검색 페이지 입니다. |</li>
<li>/submit/club</li>
<li>/club</li>
<li>/search</li>
<li>/needEmailCode </li>
<li>/user</li>
<li>/user/:id</li>
<li>/user/:id/history</li>
<li>/user/:id/clubs</li>
<li>/user/:id/submitted</li>
<li>/user/:id/commented</li>
<li>/user/:id/liked</li>
<li>/user/:id/dis_liked</li>
<li>/user/:id/favorated</li>
<li>/user/:id/saved</li>
<li>/club/:clubName/:article/comments</li>
<li>/club/:clubName/:article/comments/:comment</li>
<li>/user/:id/multiclub/:name</li>
<li>/user/:id/multiclub/:name/search</li>
</ul>

<h2 id="action-39-s-api-call">Action&rsquo;s API Call</h2>

<p>페이지가 로딩이 되고 난 이후 사용자의 Action에 따라서 Store 데이터를 로드합니다. </p>

<p>페이지 전체 데이터를 가져오는 것이 아니고, 각 Action에 맞는 데이터를 가져와서 Store 에 setting 합니다.</p>

<table><thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Usage</th>
<th>Data</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>/best</td>
<td>베스트 글 리스트를 가져옵니다.</td>
<td>PostStore, ClubStore</td>
</tr>
<tr>
<td>GET</td>
<td>/notFound</td>
<td>고블린 클럽의 메인 페이지. 베스트 리스트를 나타냅니다</td>
<td>UserStore, PostStore, ClubStore</td>
</tr>
<tr>
<td>GET</td>
<td>/club/:clubName</td>
<td>각 클럽의 글 리스트 데이터 입니다. 리스트가 가지고 있는 글들을 가져옵니다.</td>
<td>UserStore, PostStore, ClubStore</td>
</tr>
<tr>
<td>GET</td>
<td>/club/:clubName/:postName</td>
<td>글을 나타내는 데이터 입니다 url 은 클럽이름 속에 종속됩니다.</td>
<td>UserStore, PostStore, ClubStore</td>
</tr>
<tr>
<td>POST</td>
<td>/submit</td>
<td>글 쓰기 요청을 합니다.</td>
<td>post</td>
</tr>
<tr>
<td>POST</td>
<td>/login</td>
<td>로그인 요청을 합니다.</td>
<td>user</td>
</tr>
<tr>
<td>POST</td>
<td>/signin</td>
<td>회원가입 요청을 합니다.</td>
<td>user</td>
</tr>
</tbody></table>

<h1 id="auth">Auth</h1>

<p>회원은 로그인 할 때 Json Web Token (JWT)를 쿠키에 받으며, 이 토큰은 회원임을 증명합니다.</p>

<p>토큰을 사용하여 각 요청시마다 Api server에서 Token을 인증하며, 토큰이 잘못 되었거나 에러를 나타냅니다.</p>

<h2 id="회원가입">회원가입</h2>

<h2 id="로그인">로그인</h2>

<h2 id="api-요청">API 요청</h2>

<h2 id="회원-전용-요청">회원 전용 요청</h2>

<h3 id="글쓰기">글쓰기</h3>

<h3 id="투표">투표</h3>

<h3 id="회원-접근-페이지">회원 접근 페이지</h3>

<h1 id="react-view">React View</h1>

<h1 id="store">Store</h1>

<h1 id="action">Action</h1>

<h1 id="api-client">Api Client</h1>

<h1 id="validator">Validator</h1>

<h1 id="front-server-gt-react-store-data-정의">Front Server -&gt; React Store data 정의</h1>

<aside class="notice">
SEO를 목표로 하며, 주소창의 URL 접근시 데이터를 HTML에 삽입하여 React의 State를 Bootstrap 합니다
Composer.Server에서 데이터를 정의하며, 이를 응답 html에 삽입합니다
기본적으로 Interact 하지 않으며 뼈대가 되는 페이지이며, 정해진 데이터를 기준으로만 세팅합니다.(초기세팅)
따라서 대부분 GET 메서드에 의한 페이지 출력에 관여합니다
</aside>    

<ul>
<li>데이터 목록</li>
</ul>

<p><a href="#kittens">/</a> - 메인 페이지. 베스트 자료와 클럽리스트를 나타냅니다 </p>

<p><a href="#kittens">/submit</a> - 일반 글쓰기 페이지. 클럽에 종속되지 않습니다 </p>

<p><a href="#kittens">/club</a> - 클럽 리스트를 나타냅니다 각종 클럽들을 콜랙션합니다 </p>

<p><a href="#kittens">/club/{clubname}</a> - clubname에 따른 Post List를 나타냅니다 </p>

<p><a href="#kittens">/club/{clubname}/{article}</a> - ID가 article인 clubname에 속하는 Post를 나타냅니다 </p>

<p><a href="#kittens">/club/{clubname}/submit</a> - 클럽 내 글쓰기 페이지.</p>

<p><a href="#kittens">/login</a> - 로그인 페이지</p>

<p><a href="#kittens">/siginin</a> - 회원가입 페이지</p>

<p><a href="#kittens">/search</a> - 검색 페이지. 클럽 리스트, 글 리스트, 댓글 리스트를 나타냅니다.</p>

<h2 id="user-interact-lt-gt-api-server-ajax-data-정의">User Interact &lt;-&gt; Api Server AJAX data 정의</h2>

<aside class="notice">
사용자의 Interact에 의해서 주고 받는 React Store 데이터에 필요한 데이터를 정의합니다. 
페이지가 될수도 있고, 일반적인 Json Data일 경우도 있습니다
</aside>    

<h3 id="api-목록">API 목록</h3>

<p>/ : 메인 페이지</p>

<ul>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
</ul>

<p>/ : 메인 페이지</p>

<ul>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
</ul>

<p>/ : 메인 페이지</p>

<ul>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
<li><p><a href="#error-code-definitions">internal link</a> external link</p></li>
</ul>

<h2 id="react-store-state-정의">React Store State 정의</h2>

<aside class="notice">
Composer.Server 와 Composer.Client에서 사용되는 React State를 정의 합니다
</aside>    

<h3 id="userstore">UserStore</h3>

<p>사용자의 데이터를 저장합니다</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bsdo@naver.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nick"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"고블린클럽"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"auth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"loginAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">144938283</span><span class="p">,</span><span class="w">
        </span><span class="nt">"device"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS Chrome"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td></td>
<td>Object</td>
<td>회원의 정보를 나타내는 객체</td>
</tr>
<tr>
<td>user.email</td>
<td></td>
<td>String</td>
<td>회원의 이메일</td>
</tr>
<tr>
<td>user.nick</td>
<td></td>
<td>String</td>
<td>회원의 닉</td>
</tr>
<tr>
<td>auth</td>
<td></td>
<td>Object</td>
<td>회원의 인증 상태를 나타냅니다</td>
</tr>
<tr>
<td>auth.state</td>
<td></td>
<td>String</td>
<td>회원의 현재 상태 (default : login)</td>
</tr>
<tr>
<td>auth.loginAt</td>
<td></td>
<td>Date</td>
<td>회원의 접속 시간</td>
</tr>
<tr>
<td>auth.device</td>
<td></td>
<td>String</td>
<td>회원의 접속 기기 ()</td>
</tr>
</tbody></table>

<h3 id="poststore">PostStore</h3>

<p>포스트에 관한 데이터를 저장합니다</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"bestList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용입니다"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"postList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용입니다"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"readingPost"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용입니다"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"writingPost"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용입니다"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"userHas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"postList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">        
            </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용 입니다"</span><span class="w">        
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"savedPost"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">        
            </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용 입니다"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"reportedPost"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">        
            </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용 입니다"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bestList</td>
<td></td>
<td>Array</td>
<td>베스트 글 리스트</td>
</tr>
<tr>
<td>postList</td>
<td></td>
<td>Array</td>
<td>클럽 글 리스트</td>
</tr>
<tr>
<td>readingPost</td>
<td></td>
<td>Object</td>
<td>단일 포스트</td>
</tr>
<tr>
<td>writingPost</td>
<td></td>
<td>Object</td>
<td>작성 포스트</td>
</tr>
<tr>
<td>userHas</td>
<td></td>
<td>Object</td>
<td>유저가 작성한 포스트 정보들 나타냅니다</td>
</tr>
</tbody></table>

<h3 id="clubstore">ClubStore</h3>

<p>클럽에 관한 데이터를 저장합니다</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"clubNow"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"오늘의 베스트"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"starcraft2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"스타2입니다"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"creator"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"defaultClubList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용입니다"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"hotClubList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용입니다"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"userHas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"createdClubList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">        
            </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용 입니다"</span><span class="w">        
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"subscribedClubList"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"title"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">,</span><span class="w">        
            </span><span class="nt">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"내용 입니다"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clubNow</td>
<td></td>
<td>Object</td>
<td>현재 클럽 정보</td>
</tr>
<tr>
<td>defaultClubList</td>
<td></td>
<td>Array</td>
<td>디폴트 클럽 리스트</td>
</tr>
<tr>
<td>hotClubList</td>
<td></td>
<td>Array</td>
<td>핫 클럽 리스트</td>
</tr>
<tr>
<td>userHas</td>
<td></td>
<td>Object</td>
<td>유저와 클럽 관계</td>
</tr>
<tr>
<td>userHas.createdClubList</td>
<td></td>
<td>Object</td>
<td>유저가 생성한 클럽</td>
</tr>
<tr>
<td>userHas.subscribedClubList</td>
<td></td>
<td>Object</td>
<td>유저가 가입한 클럽</td>
</tr>
</tbody></table>

<h2 id="api-client">API Client</h2>

<p>데이터를 전송하는 규약입니다
이때 데이터는 Api Server의 Composer Client로 보내지며, End-point에서 정의된 데이터대로
key : value를 정의하여 보냅니다. 쉽게 말해 React state와 key값을 최대한 동일하게 작성합니다</p>

<p>API는 React method, Store 등 에서 데이터를 규합해서 정리하고 Action에서 validate 이후 APIClient를 통해 API Server와 통신합니다</p>

<blockquote>
<p>일반적으로 API 데이터는 /ajax 로 호출하며, 이때의 형식은 다음과 같습니다 </p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'superagent'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">ApiClient</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">submitPost</span> <span class="p">:</span> <span class="p">(</span><span class="nx">author</span><span class="p">,</span> <span class="nx">post</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">request</span>
            <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/ajax/submit'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">send</span><span class="p">({</span><span class="na">author</span> <span class="p">:</span> <span class="nx">author</span><span class="p">,</span> <span class="na">writingPost</span><span class="p">:</span> <span class="nx">writingPost</span><span class="p">})</span>
            <span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/json'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">withCredentials</span><span class="p">()</span>
            <span class="p">.</span><span class="nx">end</span><span class="p">((</span><span class="nx">xhrErr</span><span class="p">,</span> <span class="nx">xhrRes</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">xhrErr</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">callback</span><span class="p">(</span><span class="nx">xhrErr</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">xhrRes</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">xhrRes</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<h1 id="회원-인증">회원 인증</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
</code></pre>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>고블린 클럽의 회원 인증은 다음과 같은 단계를 거칩니다</p>

<ol>
<li><p>회원가입</p>

<ul>
<li>아이디, 닉네임, 비밀번호 Form 작성</li>
<li>UserAction에서 API Client 로 <code class="prettyprint">/ajax/siginin</code> 으로 요청</li>
<li>API Server에서 데이터를 데이터베이스 입력 후 Email 인증 요청</li>
<li>Email 인증이 완료되면, 로그인 세션에 등록하여 회원가입 프로세스를 끝냅니다</li>
</ul></li>
<li><p>로그인</p>

<ul>
<li>아이디 닉네임 비밀번호 Form 작성</li>
<li>UserAction.loginUser 로 <code class="prettyprint">/ajax/login</code>으로 요청</li>
<li>API Server에서 확인 후 세션 등록</li>
</ul></li>
<li><p>회원 인증 필수 데이터</p>

<ul>
<li>페이지 요청시 회원 인증이 필요한 경우 Composer.Server에서 인증합니다</li>
<li>클라이언트에서 AJAX 요청시 필요할 경우 Composer.Client에서 데이터를 받아 Action에서 처리 후, Redirect 처리 합니다 </li>
</ul></li>
</ol>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific kitten.</p>

<aside class="warning">If you&rsquo;re not using an administrator API key, note that some kittens will return 403 Forbidden if they are hidden for admins only.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody></table>

<p><code class="prettyprint">Authorization: meowmeowmeow</code></p>

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>

<h1 id="kittens">Kittens</h1>

<h2 id="get-all-kittens">Get All Kittens</h2>

<h3 id="hello-world">Hello world</h3>

<h4 id="nice-to-meet-you">Nice to meet you</h4>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/kittens"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluffums"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calico"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all kittens.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/api/kittens</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_cats</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

<h2 id="get-a-specific-kitten">Get a Specific Kitten</h2>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/kittens/2"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific kitten.</p>

<aside class="warning">If you&rsquo;re not using an administrator API key, note that some kittens will return 403 Forbidden if they are hidden for admins only.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
